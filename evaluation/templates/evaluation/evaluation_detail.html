{% extends "evaluation/base.html" %}
{% block title %}Evaluation {{ evaluation.week_start }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-8 bg-[#1a1a1a] rounded-2xl shadow-xl text-white">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-4xl font-extrabold text-red-500 mb-2">Evaluation Details</h1>
    <p class="text-gray-300">
      <strong>Week:</strong> {{ evaluation.week_start }} to {{ evaluation.week_end }}<br>
      <strong>Submitted by:</strong> {{ evaluation.manager.user.get_full_name }}<br>
      <strong>Submitted at:</strong> {{ evaluation.submitted_at|date:"M j, Y, P" }}
    </p>
  </div>

  <!-- Metrics Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    {% comment %} Customer Service {% endcomment %}
    <div class="bg-[#343434] p-6 rounded-lg">
      <h2 class="text-2xl font-semibold text-red-500 mb-4">Customer Service</h2>
      <ul class="space-y-2 text-gray-200">
        <li>Avg satisfaction: <span class="font-bold">{{ evaluation.avg_customer_satisfaction_score }} ⭐</span></li>
        <li>5-Star reviews: <span class="font-bold">{{ evaluation.five_star_reviews }}</span></li>
        <li>Negative reviews: <span class="font-bold">{{ evaluation.negative_reviews }}</span></li>
      </ul>
    </div>

    {% comment %} Attendance {% endcomment %}
    <div class="bg-[#343434] p-6 rounded-lg">
      <h2 class="text-2xl font-semibold text-red-500 mb-4">Attendance</h2>
      <ul class="space-y-2 text-gray-200">
        <li>Late arrivals: <span class="font-bold">{{ evaluation.late_arrivals }}</span></li>
        <li>Absences: <span class="font-bold">{{ evaluation.absences }}</span></li>
        <li>Reliability: <span class="font-bold">{{ evaluation.reliability_rating }} ⭐</span></li>
      </ul>
    </div>

    {% comment %} Productivity {% endcomment %}
    <div class="bg-[#343434] p-6 rounded-lg">
      <h2 class="text-2xl font-semibold text-red-500 mb-4">Productivity</h2>
      <ul class="space-y-2 text-gray-200">
        <li>Avg move time: <span class="font-bold">{{ evaluation.avg_move_completion_time }}</span></li>
        <li>Within schedule: <span class="font-bold">{{ evaluation.moves_within_schedule }}</span></li>
        <li>Avg revenue/move: <span class="font-bold">${{ evaluation.avg_revenue_per_move }}</span></li>
      </ul>
    </div>

    {% comment %} Safety {% endcomment %}
    <div class="bg-[#343434] p-6 rounded-lg">
      <h2 class="text-2xl font-semibold text-red-500 mb-4">Safety</h2>
      <ul class="space-y-2 text-gray-200">
        <li>Damage claims: <span class="font-bold">{{ evaluation.damage_claims }}</span></li>
        <li>Incidents: <span class="font-bold">{{ evaluation.safety_incidents }}</span></li>
        <li>Consecutive damage-free: <span class="font-bold">{{ evaluation.consecutive_damage_free_moves }}</span></li>
      </ul>
    </div>
  </div>

  {% if evaluation.notes %}
    <!-- Notes Section -->
    <div class="mt-8 bg-[#343434] p-6 rounded-lg">
      <h2 class="text-2xl font-semibold text-red-500 mb-4">Additional Feedback</h2>
      <p class="text-gray-200 whitespace-pre-wrap">{{ evaluation.notes }}</p>
    </div>
  {% endif %}
</div>
{% endblock %}
