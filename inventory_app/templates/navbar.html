{% load static %}
<header class="flex items-center justify-between px-6 py-2 bg-white ">
    <!-- Logo -->
    <div class="flex items-center gap-2">
        <img src="{% static 'images/fire_house_logo.svg' %}" alt="Logo" class="w-10 h-10">
        <h1 class="text-xl font-bold text-gray-900 font-serif">Fire House</h1>
    </div>
    {% if not user.is_authenticated %}
    <!-- login -->
    <a href="{% url 'authentication:login' %}" class="ml-auto flex gap-1 text-black hover:text-black hover:bg-red-600 bg-red-500 text-white p-2 rounded-lg w-16">
        Login
    </a>
    {% endif %}

    <!-- Navigation Links -->
    <nav class="hidden md:flex items-center gap-6 relative">
        <!-- Home -->
        {% if user.is_authenticated %}
        <div class="group relative">
            <a href="/" class="flex items-center gap-1 text-black hover:text-black hover:bg-red-600 bg-red-500 text-white p-2 rounded-lg">
                Home
                <i class="fa-solid fa-caret-down"></i>
            </a>
            <div class="hidden group-hover:block absolute top-full left-0 bg-white shadow-lg rounded-lg w-60 text-center">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Firehouse Movers</a>
            </div>
        </div>
        

        <!-- Truck Availability & Job Logistics -->
        <div class="group relative">
            <a href="#" class="flex items-center gap-1 text-black hover:text-red-600">
                Truck Availability & Job Logistics
                <i class="fa-solid fa-caret-down"></i>
            </a>
            <div class="hidden group-hover:block absolute top-full left-0 bg-white shadow-lg rounded-lg text-center">
                <a href="{% url 'availability_logitics' %}" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Truck Availability & Job Logistics</a>
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database For Orders</a>
                <a href="https://www.youtube.com/watch?v=cQGzMUcFvwk&ab_channel=RohailNisar" target="_blank" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Video Explaining Order & Availability</a>
            </div>
        </div>

        <!-- FireHouse Stations -->
        <div class="group relative">
            <a href="#" class="flex items-center gap-1 text-black hover:text-red-600">
                FireHouse Stations
                <i class="fa-solid fa-caret-down"></i>
            </a>
            <div class="hidden group-hover:block absolute top-full left-0 bg-white shadow-lg rounded-lg  w-40 text-center">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp</a>
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database</a>
            </div>
        </div>

        <!-- Other Navigation Items -->
        <div class="group relative">
            <a href="#" class="flex items-center gap-1 text-black hover:text-red-600">
                Truck & Trailer Inspection
                <i class="fa-solid fa-caret-down"></i>
            </a>
            <div class="hidden group-hover:block absolute top-full left-0 bg-white shadow-lg rounded-lg text-center">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp Truck & Trailer Inspection</a>
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database Truck & Trailer Inspection</a>
            </div>
        </div>

        
        <div class="group relative">
            <a href="#" class="flex items-center gap-1 text-black hover:text-red-600">
                On-site Inspection
                <i class="fa-solid fa-caret-down"></i>
            </a>
            <div class="hidden group-hover:block absolute top-full left-0 bg-white shadow-lg rounded-lg  w-40 text-center">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp On Site</a>
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database</a>
            </div>
        </div>

        <div id="more-menu" class="group relative">
            <a href="#" class="flex items-center gap-1 text-black hover:text-red-600 ">
                More
                <i class="fa-solid fa-caret-down"></i>
            </a>
            <div class="hidden group-hover:block absolute top-full left-0 bg-white shadow-lg rounded-lg  w-60">

                <div  class="group relative">
                    <button class="block px-4 py-2 text-black rounded-lg hover:bg-red-100" data-target="inventory-menu">
                        Uniform Inventory System
                        <i class="fa-solid fa-caret-down"></i>
                    </button>
                    <!-- Suboptions for "Coming Soon" -->
                    <div id="inventory-menu" class=" hidden pl-4">
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp Uniforms</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database Uniforms</a>
                        <a href="https://www.youtube.com/watch?v=b3n6NH19Q68&ab_channel=RohailNisar" target="_blank" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Video Explaining Uniforms</a>
                    </div>
                </div>

                <div  class="group relative">
                    <button class="block px-4 py-2 text-black rounded-lg hover:bg-red-100" data-target="gift_cards-menu">
                        Gift Cards
                        <i class="fa-solid fa-caret-down"></i>
                    </button>
                    <!-- Suboptions for "Coming Soon" -->
                    <div id="gift_cards-menu" class=" hidden pl-4">
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp Gift Cards</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database Gift Cards</a>
                    </div>
                </div>

                <div  class="group relative">
                    <button class="block px-4 py-2 text-black rounded-lg hover:bg-red-100" data-target="comingSoon-menu">
                        Coming Soon
                        <i class="fa-solid fa-caret-down"></i>
                    </button>
                    <!-- Suboptions for "Coming Soon" -->
                    <div id="comingSoon-menu" class=" hidden pl-4">
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Warehouse</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Onsite Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Packing Supplies Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Marketing Supplies Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Digitalize Application Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Employess Evaluation Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Internal Employee Inspection</a>
                    </div>
                </div>
            </div>
        </div>   
    </nav>
    
    <!-- logout -->
    <form action="{% url 'authentication:logout' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="dropdown-item text-danger block px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 hover:text-black" ><i class="fas fa-sign-out-alt"></i> Log Out</button>
    </form>
    <!-- Search Icon -->
    <div class="text-black hover:text-gray-600 cursor-pointer">
        <i class="fa-solid fa-magnifying-glass text-red-500 text-2xl hover:text-red-600"></i>
    </div>
        {% endif %}

    <!-- Hamburger Icon (visible on mobile) -->
    <div class="md:hidden flex items-center">
        <button id="hamburger-menu" class="text-black hover:text-red-600">
            <i class="fa-solid fa-bars"></i>
        </button>
    </div>

    

</header>

<!-- Mobile Navigation Menu -->
<div id="mobile-menu" class="md:hidden hidden bg-white shadow-2xl p-4 absolute top-16 left-0 right-0 z-10">
    <nav class="flex flex-col">
        <div class="group relative">
            <button class="flex items-center justify-between w-full text-black hover:text-gray-600 py-2" data-target="home-menu">
                Home
                <span>&#9662;</span>
            </button>
            <div id="home-menu" class="hidden pl-4">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Firehouse Movers</a>
            </div>
        </div>

        <div class="group relative">
            <button class="flex items-center justify-between w-full text-black hover:text-gray-600 py-2" data-target="truck-menu">
                Truck Availability
                <span>&#9662;</span>
            </button>
            <div id="truck-menu" class="hidden pl-4">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Truck Availability & Job Logistics</a>
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database For Orders</a>
                <a href="https://www.youtube.com/watch?v=cQGzMUcFvwk&ab_channel=RohailNisar" target="_blank" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Video Explaining Order & Availability</a>
            </div>
        </div>

        <div class="group relative">
            <button class="flex items-center justify-between w-full text-black hover:text-gray-600 py-2" data-target="stations-menu">
                FireHouse Stations
                <span>&#9662;</span>
            </button>
            <div id="stations-menu" class="hidden pl-4">
                <a href="#" class="block text-black hover:text-gray-600 py-1">Webapp</a>
                <a href="#" class="block text-black hover:text-gray-600 py-1">Database</a>
            </div>
        </div>

        <div class="group relative">
            <button class="flex items-center justify-between w-full text-black hover:text-gray-600 py-2" data-target="trailer_inspection-menu">
                Truck & Trailer Inspection
                <span>&#9662;</span>
            </button>
            <div id="trailer_inspection-menu" class="hidden pl-4">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp Truck & Trailer Inspection</a>
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database Truck & Trailer Inspection</a>
            </div>
        </div>

        <div class="group relative">
            <button class="flex items-center justify-between w-full text-black hover:text-gray-600 py-2" data-target="onsite_inspection-menu">
                On-site Inspection
                <span>&#9662;</span>
            </button>
            <div id="onsite_inspection-menu" class="hidden pl-4">
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp On Site</a>
                <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database</a>
            </div>
        </div>

        <!-- More Option -->
        <div class="group relative">
            <!-- Main More Button -->
            <button class="flex items-center justify-between w-full text-black hover:text-gray-600 py-2" data-target="mobile_more-menu">
                More
                <span>&#9662;</span>
            </button>

            <!-- Dropdown Menu for More -->
            <div id="mobile_more-menu" class="hidden pl-4">
                <!-- Uniform Inventory System Submenu -->
                <div class="group relative">
                    <button class="block px-4 py-2 text-black rounded-lg hover:bg-red-100" data-target="mobile_inventory-menu">
                        Uniform Inventory System
                        <span class="mr-2">&#9656;</span>
                    </button>
                    <div id="mobile_inventory-menu" class="hidden pl-4">
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp Uniforms</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database Uniforms</a>
                        <a href="https://www.youtube.com/watch?v=b3n6NH19Q68&ab_channel=RohailNisar" target="_blank" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Video Explaining Uniforms</a>
                    </div>
                </div>

                <!-- Gift cards Submenu -->
                <div class="group relative">
                    <button class="block px-4 py-2 text-black rounded-lg hover:bg-red-100" data-target="mobile_cards-menu">
                        Gift Cards
                        <span class="mr-2">&#9656;</span>
                    </button>
                    <div id="mobile_cards-menu" class="hidden pl-4">
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Webapp Gift Cards</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Database Gift Cards</a>
                    </div>
                </div>

                <!-- Coming Soon Submenu -->
                <div class="group relative">
                    <button class="block px-4 py-2 text-black rounded-lg hover:bg-red-100" data-target="mobile_comingSoon-menu">
                        Coming Soon
                        <span class="mr-2">&#9656;</span>
                    </button>
                    <div id="mobile_comingSoon-menu" class="hidden pl-4">
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Warehouse</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Onsite Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Packing Supplies Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Marketing Supplies Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Digitalize Application Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Employess Evaluation Inspection</a>
                        <a href="#" class="block px-4 py-2 text-black rounded-lg hover:bg-red-100">Internal Employee Inspection</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

<script>
    // Toggle the mobile menu
    const hamburgerMenu = document.getElementById('hamburger-menu');
    const mobileMenu = document.getElementById('mobile-menu');

    hamburgerMenu.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // Handle hierarchical all dropdown
    document.querySelectorAll('#mobile-menu button').forEach(button => {
        button.addEventListener('click', (event) => {
            const targetMenu = document.getElementById(event.target.dataset.target);
            if (targetMenu) {
                targetMenu.classList.toggle('hidden');
            }
        });
    });

    // Handle hierarchical more dropdown
    document.querySelectorAll('#more-menu button').forEach(button => {
        button.addEventListener('click', (event) => {
            const targetMenu = document.getElementById(event.target.dataset.target);
            if (targetMenu) {
                targetMenu.classList.toggle('hidden');
            }
        });
    });

    // Handle hierarchical mobile view more dropdown
    document.querySelectorAll('#mobile_more-menu button').forEach(button => {
        button.addEventListener('click', (event) => {
            const targetMenu = document.getElementById(event.target.dataset.target);
            if (targetMenu) {
                targetMenu.classList.toggle('hidden');
            }
        });
    });
    
    // Handle hierarchical "Coming Soon" dropdown
    document.querySelectorAll('[data-target="mobile_comingSoon-menu"]').forEach(button => {
        button.addEventListener('click', (event) => {
            const targetMenu = document.getElementById(event.target.dataset.target);
            if (targetMenu) {
                targetMenu.classList.toggle('hidden');
            }
        });
    });

    // Handle hierarchical "Mobile Inventory" dropdown
    document.querySelectorAll('[data-target="mobile_inventory-menu"]').forEach(button => {
        button.addEventListener('click', (event) => {
            const targetMenu = document.getElementById(event.target.dataset.target);
            if (targetMenu) {
                targetMenu.classList.toggle('hidden');
            }
        });
    });

    // Handle hierarchical "Mobile Gift Cards" dropdown
    document.querySelectorAll('[data-target="mobile_cards-menu"]').forEach(button => {
        button.addEventListener('click', (event) => {
            const targetMenu = document.getElementById(event.target.dataset.target);
            if (targetMenu) {
                targetMenu.classList.toggle('hidden');
            }
        });
    });
    
</script>
